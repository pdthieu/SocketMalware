import socket
import os

from PIL.Image import new
from dotenv import load_dotenv

load_dotenv()
SERVER_HOST = os.getenv('SERVER_HOST')
SERVER_PORT = os.getenv('SERVER_PORT')

def receivedListProcess(s):
    listProcess = []
    while True:
        data = s.recv(4096) 
        data = data.decode('utf8')
        if data == 'done':
            break
        listProcess.append(data)
    return listProcess

def killProcess(s, processId):
    s.sendall(b'kill process')
    while True:
        data = s.recv(1024)
        if data.decode('utf8') == 'Received request kill process':
            s.sendall(bytes(str(processId), 'utf8'))
            break

def getListApplication(s):
    s.sendall(b'application running')
    ret = []
    while True:
        data = s.recv(4096)
        data = data.decode('utf8')
        if data == 'done':
            break
        ret.append(data)    
    return ret

def startApplication(s):
    s.sendall(b'start application')
    while True:
        
    pass

if __name__ == '__main__':
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
        s.connect((SERVER_HOST, int(SERVER_PORT)))