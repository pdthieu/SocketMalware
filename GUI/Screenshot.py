from tkinter import *
from tkinter.ttk import *
import pyautogui
from tkinter import filedialog
from CheckConnect import check_connect

def screenshot(s):
    #if check_connect(s) == False: return
    request = 'screenshot'
    #s.sendall(bytes(request))
    
    root = Tk()
    root.title('Pic')
    root.geometry('500x400+100+100')
    canvas1 = Canvas(root, width=300, height=300)
    canvas1.place(relx=0.05, rely=0.1, relwidth=0.7, relheight=0.8)

    myScreenshot = pyautogui.screenshot()

    def takeScreenshot():
        #s.send(bytes(request))
        #data = s.recv(1024).decode()
        #myScreenshot = data
        canvas1.create_image(20, 20, anchor = NW, image=myScreenshot)        
        pass

    def saveScreenshot():
        file_path = filedialog.asksaveasfilename(defaultextension = '.png')
        myScreenshot.save(file_path)
        pass

    Button(root, text='TakeScreenshot', command=takeScreenshot).place(relx=0.8, rely=0.1, relwidth=0.15, relheight=0.5)
    Button(root, text='Save', command=saveScreenshot).place(relx=0.8, rely=0.65, relwidth=0.15, relheight=0.25)
    root.mainloop()
    pass